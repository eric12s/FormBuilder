(this.webpackJsonpforms=this.webpackJsonpforms||[]).push([[0],{28:function(e,t,n){e.exports=n(55)},55:function(e,t,n){"use strict";n.r(t);var a=n(5),l=n(0),r=n.n(l),c=n(25),u=n.n(c),o=n(7),m=n(8),i=n(2),s=function(e){return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Form Id"),r.a.createElement("th",null,"Form Name"),r.a.createElement("th",null,"# Submissions"),r.a.createElement("th",null,"Submit Page"),r.a.createElement("th",null,"Submissions Page"))),e.forms.map((function(e,t){return r.a.createElement("tbody",{key:t},r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.noSubmissions),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/submit/".concat(t)},"View")),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/submissions/".concat(t)},"View"))))}))))},f=n(10),b=n.n(f),E="https://form-builder-proj.herokuapp.com";var d={readAll:function(){return b.a.get("".concat(E,"/forms")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b.a.get("".concat(E,"/forms/").concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},create:function(e){return b.a.post("".concat(E,"/forms"),e).then((function(e){return e.data}))},patch:function(e){return console.log(e),b.a.patch("".concat(E,"/").concat(e.id),e).then((function(e){return e.data}))},createImpl:function(e){return b.a.post("".concat(E,"/formImpls/")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},p=function(e){var t=Object(l.useState)([""]),n=Object(a.a)(t,2),c=n[0],u=(n[1],Object(l.useState)(e.fields)),o=Object(a.a)(u,2),m=(o[0],o[1],Object(l.useState)(0)),i=Object(a.a)(m,2),s=(i[0],i[1],function(e){});return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(t.target.value);e.id}},r.a.createElement("h1",null,e.formName),Object.keys(e.fields).map((function(t,n){return r.a.createElement("input",{key:n,type:e.fields[n].inputType,value:c[n],onChange:s})})),r.a.createElement("button",{type:"submit"},"Save"))},h=Object(m.e)((function(e){var t=Object(l.useState)([]),n=Object(a.a)(t,2),c=n[0],u=n[1],o=Object(l.useState)(""),m=Object(a.a)(o,2),i=m[0],s=m[1],f=Object(l.useState)(""),b=Object(a.a)(f,2),E=b[0],p=b[1],h=Object(l.useState)(""),v=Object(a.a)(h,2),g=v[0],j=v[1],O=Object(l.useState)(""),y=Object(a.a)(O,2),S=y[0],F=y[1],k=Object(l.useState)(1),w=Object(a.a)(k,2),x=w[0],C=w[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Add new field"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:E,label:i,inputType:g||"text"};console.log(i),u(c.concat(t)),p(""),s(""),j("")}},r.a.createElement("div",null,"field label:",r.a.createElement("input",{type:"text",value:i,onChange:function(e){s(e.target.value)}}),"input name:",r.a.createElement("input",{type:"text",value:E,onChange:function(e){p(e.target.value)}}),"input type:",r.a.createElement("select",{value:g,onChange:function(e){j(e.target.value)}},r.a.createElement("option",{value:"text"},"text"),r.a.createElement("option",{value:"color"},"color"),r.a.createElement("option",{value:"date"},"date"),r.a.createElement("option",{value:"email"},"email"),r.a.createElement("option",{value:"tel"},"telephone"),r.a.createElement("option",{value:"number"},"number")),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Add Field"))),r.a.createElement("ul",null,c.map((function(e,t){return r.a.createElement("li",{key:t},e.label," ",e.name," ",e.inputType)}))),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n={name:S,fields:c,noSubmissions:0};d.create(n).then((function(t){console.log(t),e.setForms(e.forms.concat(t))})).catch((function(e){return console.log(e)})),F(""),u([]),C(x+1),e.history.push("/table")}},r.a.createElement("div",null,"Form Name:",r.a.createElement("input",{value:S,onChange:function(e){F(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Save"))),"            ")}));u.a.render(r.a.createElement(o.a,null,r.a.createElement((function(){var e=Object(l.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1];Object(l.useEffect)((function(){d.readAll().then((function(e){c(e)})).catch((function(e){return console.log(e)}))}),[]);var u={padding:5},f=Object(i.a)();function b(e){c(n.concat(e))}return r.a.createElement("div",null,r.a.createElement(o.a,{history:f},r.a.createElement("div",null,r.a.createElement(o.b,{style:u,to:"/table"},"Form List"),"|",r.a.createElement(o.b,{style:u,to:"/wizard"},"Form Builder"),r.a.createElement(m.a,{path:"/table",render:function(){return r.a.createElement(s,{forms:n})}}),r.a.createElement(m.a,{path:"/wizard",render:function(){return r.a.createElement(h,{forms:n,setForms:b})}}),r.a.createElement(m.a,{path:"/submit/:id",render:function(e){var t=e.match;return r.a.createElement(p,{fields:n[t.params.id].fields,formName:n[t.params.id].name,id:n[t.params.id]._id})}}))))}),null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.344c08cc.chunk.js.map
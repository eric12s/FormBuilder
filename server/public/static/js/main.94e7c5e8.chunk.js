(this.webpackJsonpforms=this.webpackJsonpforms||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"domain":"dev-fbqlrac3.auth0.com","clientId":"OFT0HPJ4OP6fmxVlQ9wQvVg01tejnPeQ"}')},36:function(e,t){},37:function(e,t,n){e.exports=n(65)},65:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(31),l=n.n(o),u=n(7),i=n(9),s=n(3),m=(n(13),function(e){return c.a.createElement("div",{className:"table table-striped"},c.a.createElement("table",null,c.a.createElement("thead",{className:"thead-dark"},c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Form Id "),c.a.createElement("th",{scope:"col"},"Form Name "),c.a.createElement("th",{scope:"col"},"# Submissions "),c.a.createElement("th",{scope:"col"},"Submit Page "),c.a.createElement("th",{scope:"col"},"Submissions Page "))),e.forms.map((function(e,t){return c.a.createElement("tbody",{key:t},c.a.createElement("tr",null,c.a.createElement("td",null,t),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.noSubmissions),c.a.createElement("td",null,c.a.createElement(u.b,{to:"/submit/".concat(t)},"View")),c.a.createElement("td",null,c.a.createElement(u.b,{to:"/submissions/".concat(t)},"View"))))}))))}),p=n(11),d=n.n(p),f="https://form-builder-proj.herokuapp.com";var b={readAll:function(){return d.a.get("".concat(f,"/forms")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.a.get("".concat(f,"/forms/").concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},create:function(e){return d.a.post("".concat(f,"/forms"),e).then((function(e){return e.data}))},patch:function(e){return console.log(e),d.a.patch("".concat(f,"/").concat(e.id),e).then((function(e){return e.data}))},createImpl:function(e){return d.a.post("".concat(f,"/formImpls/")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}},h=function(e){var t=Object(r.useState)([""]),n=Object(a.a)(t,2),o=n[0],l=(n[1],Object(r.useState)(e.fields)),u=Object(a.a)(l,2),i=(u[0],u[1],Object(r.useState)(0)),s=Object(a.a)(i,2),m=(s[0],s[1],function(e){});return c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(t.target.value);e.id},className:"container"},c.a.createElement("h1",null,e.formName),Object.keys(e.fields).map((function(t){return c.a.createElement("div",{key:t},e.fields[t].name,c.a.createElement("input",{type:e.fields[t].inputType,value:o[t],onChange:m}))})),c.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save"))},E=Object(i.e)((function(e){var t=Object(r.useState)([]),n=Object(a.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)(""),i=Object(a.a)(u,2),s=i[0],m=i[1],p=Object(r.useState)(""),d=Object(a.a)(p,2),f=d[0],h=d[1],E=Object(r.useState)(""),v=Object(a.a)(E,2),g=v[0],O=v[1],j=Object(r.useState)(""),y=Object(a.a)(j,2),S=y[0],k=y[1],w=Object(r.useState)(1),x=Object(a.a)(w,2),C=x[0],N=x[1];return c.a.createElement("div",null,c.a.createElement("h1",null,"Add new field"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:f,label:s,inputType:g||"text"};console.log(s),l(o.concat(t)),h(""),m(""),O("")},className:"container"},c.a.createElement("div",{class:"form-group"},"field label:",c.a.createElement("input",{type:"text",value:s,onChange:function(e){m(e.target.value)}}),"input name:",c.a.createElement("input",{type:"text",value:f,onChange:function(e){h(e.target.value)}}),"input type:",c.a.createElement("select",{value:g,onChange:function(e){O(e.target.value)}},c.a.createElement("option",{value:"text"},"text"),c.a.createElement("option",{value:"color"},"color"),c.a.createElement("option",{value:"date"},"date"),c.a.createElement("option",{value:"email"},"email"),c.a.createElement("option",{value:"tel"},"telephone"),c.a.createElement("option",{value:"number"},"number")),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",className:"btn btn-primary"},">Add Field"))),c.a.createElement("ul",{className:"list-group"},o.map((function(e,t){return c.a.createElement("li",{key:t,class:"list-group-item"},e.label," ",e.name," ",e.inputType)}))),c.a.createElement("br",null),c.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n={name:S,fields:o,noSubmissions:0};b.create(n).then((function(t){console.log(t),e.setForms(e.forms.concat(t))})).catch((function(e){return console.log(e)})),k(""),l([]),N(C+1),e.history.push("/table")}},c.a.createElement("div",{class:"form-group"},"Form Name:",c.a.createElement("input",{value:S,onChange:function(e){k(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",className:"btn btn-success"},"Save"))),"            ")})),v=n(10),g=n.n(v),O=n(15),j=n(34),y=n(35),S=n.n(y),k=function(){return window.history.replaceState({},document.title,window.location.pathname)},w=c.a.createContext(),x=n(19),C=n(36),N=n.n(C);l.a.render(c.a.createElement(u.a,null,c.a.createElement((function(e){var t=e.children,n=e.onRedirectCallback,o=void 0===n?k:n,l=Object(j.a)(e,["children","onRedirectCallback"]),u=Object(r.useState)(),i=Object(a.a)(u,2),s=i[0],m=i[1],p=Object(r.useState)(),d=Object(a.a)(p,2),f=d[0],b=d[1],h=Object(r.useState)(),E=Object(a.a)(h,2),v=E[0],y=E[1],x=Object(r.useState)(!0),C=Object(a.a)(x,2),N=C[0],P=C[1],T=Object(r.useState)(!1),F=Object(a.a)(T,2),R=F[0],I=F[1];Object(r.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){var t,n,a,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()(l);case 2:if(t=e.sent,y(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,o(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,m(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:c=e.sent,b(c);case 19:P(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=function(){var e=Object(O.a)(g.a.mark((function e(){var t,n,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},I(!0),e.prev=2,e.next=5,v.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,I(!1),e.finish(10);case 13:return e.next=15,v.getUser();case 15:n=e.sent,b(n),m(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,v.handleRedirectCallback();case 3:return e.next=5,v.getUser();case 5:t=e.sent,P(!1),m(!0),b(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(w.Provider,{value:{isAuthenticated:s,user:f,loading:N,popupOpen:R,loginWithPopup:A,handleRedirectCallback:W,getIdTokenClaims:function(){return v.getIdTokenClaims.apply(v,arguments)},loginWithRedirect:function(){return v.loginWithRedirect.apply(v,arguments)},getTokenSilently:function(){return v.getTokenSilently.apply(v,arguments)},getTokenWithPopup:function(){return v.getTokenWithPopup.apply(v,arguments)},logout:function(){return v.logout.apply(v,arguments)}}},t)}),{domain:x.domain,client_id:x.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){N.a.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},c.a.createElement((function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1];Object(r.useEffect)((function(){b.readAll().then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[]);var l={padding:5},p=Object(s.a)();function d(e){o(n.concat(e))}var f=Object(r.useContext)(w),v=f.isAuthenticated,g=f.loginWithRedirect;f.logout;return c.a.createElement("div",{className:"container-lg"},c.a.createElement(u.a,{history:p},c.a.createElement("div",{className:"col"},!v&&c.a.createElement("button",{onClick:function(){return g({})}},"Log in"),c.a.createElement(u.b,{style:l,to:"/table"},"Form List"),"|",c.a.createElement(u.b,{style:l,to:"/wizard"},"Form Builder"),c.a.createElement(i.a,{path:"/table",render:function(){return c.a.createElement(m,{forms:n})}}),c.a.createElement(i.a,{path:"/wizard",render:function(){return c.a.createElement(E,{forms:n,setForms:d})}}),c.a.createElement(i.a,{path:"/submit/:id",render:function(e){var t=e.match;return c.a.createElement(h,{fields:n[t.params.id].fields,formName:n[t.params.id].name,id:n[t.params.id]._id})}}))))}),null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.94e7c5e8.chunk.js.map